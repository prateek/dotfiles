void (()=>{var S=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var $=S((Re,H)=>{"use strict";function Y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}return e}function E(e,t){return Array(t+1).join(e)}function K(e){return e.replace(/^\n*/,"")}function z(e){for(var t=e.length;t>0&&e[t-1]==="\n";)t--;return e.substring(0,t)}var Q=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function T(e){return k(e,Q)}var x=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function B(e){return k(e,x)}function J(e){return L(e,x)}var D=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function Z(e){return k(e,D)}function ee(e){return L(e,D)}function k(e,t){return t.indexOf(e.nodeName)>=0}function L(e,t){return e.getElementsByTagName&&t.some(function(r){return e.getElementsByTagName(r).length})}var s={};s.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}};s.lineBreak={filter:"br",replacement:function(e,t,r){return r.br+"\n"}};s.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,r){var n=Number(t.nodeName.charAt(1));if(r.headingStyle==="setext"&&n<3){var i=E(n===1?"=":"-",e.length);return"\n\n"+e+"\n"+i+"\n\n"}else return"\n\n"+E("#",n)+" "+e+"\n\n"}};s.blockquote={filter:"blockquote",replacement:function(e){return e=e.replace(/^\n+|\n+$/g,""),e=e.replace(/^/gm,"> "),"\n\n"+e+"\n\n"}};s.list={filter:["ul","ol"],replacement:function(e,t){var r=t.parentNode;return r.nodeName==="LI"&&r.lastElementChild===t?"\n"+e:"\n\n"+e+"\n\n"}};s.listItem={filter:"li",replacement:function(e,t,r){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var n=r.bulletListMarker+"   ",i=t.parentNode;if(i.nodeName==="OL"){var a=i.getAttribute("start"),o=Array.prototype.indexOf.call(i.children,t);n=(a?Number(a)+o:o+1)+".  "}return n+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}};s.indentedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,r){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}};s.fencedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,r){for(var n=t.firstChild.getAttribute("class")||"",i=(n.match(/language-(\S+)/)||[null,""])[1],a=t.firstChild.textContent,o=r.fence.charAt(0),c=3,l=new RegExp("^"+o+"{3,}","gm"),u;u=l.exec(a);)u[0].length>=c&&(c=u[0].length+1);var p=E(o,c);return"\n\n"+p+i+"\n"+a.replace(/\n$/,"")+"\n"+p+"\n\n"}};s.horizontalRule={filter:"hr",replacement:function(e,t,r){return"\n\n"+r.hr+"\n\n"}};s.inlineLink={filter:function(e,t){return t.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var r=t.getAttribute("href");r&&(r=r.replace(/([()])/g,"\\$1"));var n=g(t.getAttribute("title"));return n&&(n=' "'+n.replace(/"/g,'\\"')+'"'),"["+e+"]("+r+n+")"}};s.referenceLink={filter:function(e,t){return t.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t,r){var n=t.getAttribute("href"),i=g(t.getAttribute("title"));i&&(i=' "'+i+'"');var a,o;switch(r.linkReferenceStyle){case"collapsed":a="["+e+"][]",o="["+e+"]: "+n+i;break;case"shortcut":a="["+e+"]",o="["+e+"]: "+n+i;break;default:var c=this.references.length+1;a="["+e+"]["+c+"]",o="["+c+"]: "+n+i}return this.references.push(o),a},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}};s.emphasis={filter:["em","i"],replacement:function(e,t,r){return e.trim()?r.emDelimiter+e+r.emDelimiter:""}};s.strong={filter:["strong","b"],replacement:function(e,t,r){return e.trim()?r.strongDelimiter+e+r.strongDelimiter:""}};s.code={filter:function(e){var t=e.previousSibling||e.nextSibling,r=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!r},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",r="`",n=e.match(/`+/gm)||[];n.indexOf(r)!==-1;)r=r+"`";return r+t+e+t+r}};s.image={filter:"img",replacement:function(e,t){var r=g(t.getAttribute("alt")),n=t.getAttribute("src")||"",i=g(t.getAttribute("title")),a=i?' "'+i+'"':"";return n?"!["+r+"]("+n+a+")":""}};function g(e){return e?e.replace(/(\n+\s*)+/g,"\n"):""}function P(e){this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[];for(var t in e.rules)this.array.push(e.rules[t])}P.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var t;return(t=N(this.array,e,this.options))||(t=N(this._keep,e,this.options))||(t=N(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};function N(e,t,r){for(var n=0;n<e.length;n++){var i=e[n];if(te(i,t,r))return i}}function te(e,t,r){var n=e.filter;if(typeof n=="string"){if(n===t.nodeName.toLowerCase())return!0}else if(Array.isArray(n)){if(n.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof n=="function"){if(n.call(e,t,r))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function re(e){var t=e.element,r=e.isBlock,n=e.isVoid,i=e.isPre||function(X){return X.nodeName==="PRE"};if(!(!t.firstChild||i(t))){for(var a=null,o=!1,c=null,l=O(c,t,i);l!==t;){if(l.nodeType===3||l.nodeType===4){var u=l.data.replace(/[ \r\n\t]+/g," ");if((!a||/ $/.test(a.data))&&!o&&u[0]===" "&&(u=u.substr(1)),!u){l=y(l);continue}l.data=u,a=l}else if(l.nodeType===1)r(l)||l.nodeName==="BR"?(a&&(a.data=a.data.replace(/ $/,"")),a=null,o=!1):n(l)||i(l)?(a=null,o=!0):a&&(o=!1);else{l=y(l);continue}var p=O(c,l,i);c=l,l=p}a&&(a.data=a.data.replace(/ $/,""),a.data||y(a))}}function y(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function O(e,t,r){return e&&e.parentNode===t||r(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var C=typeof window<"u"?window:{};function ne(){var e=C.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch(r){}return t}function ie(){var e=function(){};return ae()?e.prototype.parseFromString=function(t){var r=new window.ActiveXObject("htmlfile");return r.designMode="on",r.open(),r.write(t),r.close(),r}:e.prototype.parseFromString=function(t){var r=document.implementation.createHTMLDocument("");return r.open(),r.write(t),r.close(),r},e}function ae(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){C.ActiveXObject&&(e=!0)}return e}var le=ne()?C.DOMParser:ie();function oe(e,t){var r;if(typeof e=="string"){var n=se().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");r=n.getElementById("turndown-root")}else r=e.cloneNode(!0);return re({element:r,isBlock:T,isVoid:B,isPre:t.preformattedCode?ce:null}),r}var A;function se(){return A=A||new le,A}function ce(e){return e.nodeName==="PRE"||e.nodeName==="CODE"}function ue(e,t){return e.isBlock=T(e),e.isCode=e.nodeName==="CODE"||e.parentNode.isCode,e.isBlank=fe(e),e.flankingWhitespace=de(e,t),e}function fe(e){return!B(e)&&!Z(e)&&/^\s*$/i.test(e.textContent)&&!J(e)&&!ee(e)}function de(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var r=he(e.textContent);return r.leadingAscii&&w("left",e,t)&&(r.leading=r.leadingNonAscii),r.trailingAscii&&w("right",e,t)&&(r.trailing=r.trailingNonAscii),{leading:r.leading,trailing:r.trailing}}function he(e){var t=e.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function w(e,t,r){var n,i,a;return e==="left"?(n=t.previousSibling,i=/ $/):(n=t.nextSibling,i=/^ /),n&&(n.nodeType===3?a=i.test(n.nodeValue):r.preformattedCode&&n.nodeName==="CODE"?a=!1:n.nodeType===1&&!T(n)&&(a=i.test(n.textContent))),a}var me=Array.prototype.reduce,pe=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function v(e){if(!(this instanceof v))return new v(e);var t={rules:s,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(r,n){return n.isBlock?"\n\n":""},keepReplacement:function(r,n){return n.isBlock?"\n\n"+n.outerHTML+"\n\n":n.outerHTML},defaultReplacement:function(r,n){return n.isBlock?"\n\n"+r+"\n\n":r}};this.options=Y({},t,e),this.rules=new P(this.options)}v.prototype={turndown:function(e){if(!Ne(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(e==="")return"";var t=M.call(this,new oe(e,this.options));return ge.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if(typeof e=="function")e(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return pe.reduce(function(t,r){return t.replace(r[0],r[1])},e)}};function M(e){var t=this;return me.call(e.childNodes,function(r,n){n=new ue(n,t.options);var i="";return n.nodeType===3?i=n.isCode?n.nodeValue:t.escape(n.nodeValue):n.nodeType===1&&(i=ve.call(t,n)),I(r,i)},"")}function ge(e){var t=this;return this.rules.forEach(function(r){typeof r.append=="function"&&(e=I(e,r.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function ve(e){var t=this.rules.forNode(e),r=M.call(this,e),n=e.flankingWhitespace;return(n.leading||n.trailing)&&(r=r.trim()),n.leading+t.replacement(r,e,this.options)+n.trailing}function I(e,t){var r=z(e),n=K(t),i=Math.max(e.length-r.length,t.length-n.length),a="\n\n".substring(0,i);return r+a+n}function Ne(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}H.exports=v});var j=S(f=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var _=/highlight-(?:text|source)-([a-z0-9]+)/;function F(e){e.addRule("highlightedCodeBlock",{filter:function(t){var r=t.firstChild;return t.nodeName==="DIV"&&_.test(t.className)&&r&&r.nodeName==="PRE"},replacement:function(t,r,n){var i=r.className||"",a=(i.match(_)||[null,""])[1];return"\n\n"+n.fence+a+"\n"+r.firstChild.textContent+"\n"+n.fence+"\n\n"}})}function U(e){e.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(t){return"~"+t+"~"}})}var ye=Array.prototype.indexOf,Ae=Array.prototype.every,d={};d.tableCell={filter:["th","td"],replacement:function(e,t){return V(e,t)}};d.tableRow={filter:"tr",replacement:function(e,t){var r="",n={left:":--",right:"--:",center:":-:"};if(b(t))for(var i=0;i<t.childNodes.length;i++){var a="---",o=(t.childNodes[i].getAttribute("align")||"").toLowerCase();o&&(a=n[o]||a),r+=V(a,t.childNodes[i])}return"\n"+e+(r?"\n"+r:"")}};d.table={filter:function(e){return e.nodeName==="TABLE"&&b(e.rows[0])},replacement:function(e){return e=e.replace("\n\n","\n"),"\n\n"+e+"\n\n"}};d.tableSection={filter:["thead","tbody","tfoot"],replacement:function(e){return e}};function b(e){var t=e.parentNode;return t.nodeName==="THEAD"||t.firstChild===e&&(t.nodeName==="TABLE"||Ee(t))&&Ae.call(e.childNodes,function(r){return r.nodeName==="TH"})}function Ee(e){var t=e.previousSibling;return e.nodeName==="TBODY"&&(!t||t.nodeName==="THEAD"&&/^\s*$/i.test(t.textContent))}function V(e,t){var r=ye.call(t.parentNode.childNodes,t),n=" ";return r===0&&(n="| "),n+e+" |"}function q(e){e.keep(function(r){return r.nodeName==="TABLE"&&!b(r.rows[0])});for(var t in d)e.addRule(t,d[t])}function W(e){e.addRule("taskListItems",{filter:function(t){return t.type==="checkbox"&&t.parentNode.nodeName==="LI"},replacement:function(t,r){return(r.checked?"[x]":"[ ]")+" "}})}function Te(e){e.use([F,U,q,W])}f.gfm=Te;f.highlightedCodeBlock=F;f.strikethrough=U;f.tables=q;f.taskListItems=W});var ke=$(),Ce=j().tables,G=new ke({hr:"___________",preformattedCode:!0,headingStyle:"setext",codeBlockStyle:"fenced"});G.use(Ce);var h=document.body.cloneNode(!0);h.querySelectorAll("pre .text-xs").forEach(e=>{var t;return(t=e.parentNode)==null?void 0:t.removeChild(e)});h.querySelectorAll("div .text-xs.gap-1").forEach(e=>{var t;return(t=e.parentNode)==null?void 0:t.removeChild(e)});h.querySelector(".absolute.bottom-0").remove();h.querySelectorAll(".text-message pre").forEach(e=>{e.innerHTML=e.querySelector("code").outerHTML});var R="# ".concat(document.title,"\n\n");h.querySelectorAll(".text-message").forEach((e,t)=>{let r=Math.trunc(t/2)+1,n=e.querySelector(".prose");n?R+="## RESPONSE ".concat(r,"\n\n").concat(G.turndown(n.innerHTML),"\n\n"):R+="## PROMPT ".concat(r,"\n\n").concat(e.querySelector("div").innerText,"\n\n")});var m=document.createElement("a");m.download="".concat(document.title,".md");m.href=URL.createObjectURL(new Blob([R]));m.style.display="none";document.body.appendChild(m);m.click();})();
